<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>For RathiDevi ‚Ä¢ Palanikumar</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;1,400&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root { --accent: #ffb3d1; --gold: #d4af37; --bg: #050505; }
* { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
body { margin: 0; padding: 0; min-height: 100svh; background: var(--bg); font-family: 'Inter', sans-serif; color: white; display: flex; align-items: center; justify-content: center; overflow: hidden; }
.stars { position: fixed; inset: 0; background: radial-gradient(circle at 50% 100%, #1a1a1a 0%, #050505 100%); z-index: 0; }
canvas { position: fixed; inset: 0; pointer-events: none; z-index: 5; }

/* Bento Grid */
.bento-grid { position: relative; z-index: 10; width: 92vw; max-width: 400px; display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; transition: 0.8s cubic-bezier(0.4, 0, 0.2, 1); }
.box { background: rgba(255, 255, 255, 0.04); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 24px; padding: 20px; backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); }
.header-box { grid-column: span 2; }
.header-box h1 { font-family: 'Cormorant Garamond', serif; font-size: 36px; margin: 0; font-weight: 300; color: var(--accent); }
#convince-msg { font-size: 14px; color: var(--gold); margin-top: 10px; font-weight: 400; min-height: 20px; transition: 0.2s; }

.date-box { grid-column: span 1; text-align: center; }
.date-box span { font-size: 10px; text-transform: uppercase; letter-spacing: 2px; opacity: 0.5; }
.date-box b { font-size: 16px; color: white; display: block; margin-top: 4px; }

.action-box { grid-column: span 2; height: 160px; position: relative; display: flex; align-items: center; justify-content: center; }
.btn { width: 100%; padding: 16px; border-radius: 18px; border: none; font-size: 14px; font-weight: 600; cursor: pointer; transition: 0.3s; }
#yes { background: white; color: black; z-index: 100; box-shadow: 0 10px 20px rgba(255,255,255,0.1); }
#no { background: rgba(255,255,255,0.08); color: white; border: 1px solid rgba(255,255,255,0.1); position: absolute; width: 80%; z-index: 50; touch-action: none; }

/* Progress & Loader */
#loader-container { display: none; flex-direction: column; align-items: center; margin-top: 30px; width: 100%; max-width: 250px; }
.heart-loader { font-size: 30px; animation: beat 0.8s infinite; margin-bottom: 10px; }
@keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }
.progress-bg { width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 10px; overflow: hidden; }
.progress-fill { width: 0%; height: 100%; background: var(--accent); transition: width 0.1s linear; }

#final-view { position: fixed; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 0; visibility: hidden; z-index: 20; text-align: center; padding: 20px; }
#final-view h2 { font-family: 'Cormorant Garamond', serif; font-size: 48px; color: var(--accent); margin: 0; }
.fade-out { opacity: 0; transform: scale(0.9); filter: blur(15px); }
</style>
</head>
<body>

<div class="stars"></div>
<canvas id="fireworks"></canvas>

<div class="bento-grid" id="grid">
    <div class="box header-box">
        <span style="font-size: 9px; letter-spacing: 4px; opacity: 0.4;">PROPOSAL DAY</span>
        <h1>RathiDevi</h1>
        <div id="convince-msg">Palanikumar is waiting for a 'Yes'! ‚ù§Ô∏è</div>
    </div>
    <div class="box date-box"><span>FIRST MET</span><b>APR 19</b></div>
    <div class="box date-box"><span>BIG DAY</span><b>MAY 18</b></div>
    <div class="box action-box">
        <button class="btn" id="yes">Accept Forever</button>
        <button class="btn" id="no">Hmm, thinking... üôà</button>
    </div>
</div>

<div id="final-view">
    <span style="letter-spacing: 5px; opacity: 0.5; font-size: 10px; margin-bottom: 10px;">PALANIKUMAR & RATHIDEVI</span>
    <h2>Forever Starts Now.</h2>
    <div id="loader-container">
        <div class="heart-loader">‚ù§Ô∏è</div>
        <div class="progress-bg"><div class="progress-fill" id="p-fill"></div></div>
        <p style="font-size: 10px; margin-top: 10px; opacity: 0.6; letter-spacing: 1px;">SYNCING OUR SONG...</p>
    </div>
</div>

<script>
const noBtn = document.getElementById('no');
const yesBtn = document.getElementById('yes');
const grid = document.getElementById('grid');
const convinceMsg = document.getElementById('convince-msg');
const finalView = document.getElementById('final-view');
const pFill = document.getElementById('p-fill');
const loader = document.getElementById('loader-container');
const spotifyLink = "https://open.spotify.com/track/0tcKP2nsBy1aiabkXQlXt5?si=IN42uNTmT0OVa4BtKUYaHg";

const funnyMessages = [
    "Wait, are you actually thinking about it? ü•∫",
    "I've already told my mom you said yes! üèÉ‚Äç‚ôÇÔ∏è",
    "Marriage on May 18th is non-refundable! üíç",
    "I'll carry all the grocery bags for life. üí™",
    "Error 404: 'No' button is broken. üîß",
    "One 'Yes' = Infinite Biryani/Pizza! üçï",
    "I'm the only Palanikumar you'll ever need. üòâ",
    "Just click the white button already! üòÇ"
];

let msgIndex = 0;

function moveNo(e) {
    if(e) e.preventDefault();
    // Move logic
    const x = Math.random() * 120 - 60;
    const y = Math.random() * 100 - 50;
    noBtn.style.transform = `translate(${x}px, ${y}px)`;
    
    // Message update logic - Instant feedback
    convinceMsg.innerText = funnyMessages[msgIndex];
    msgIndex = (msgIndex + 1) % funnyMessages.length;
}

noBtn.addEventListener('touchstart', moveNo);
noBtn.addEventListener('click', moveNo); // For desktop clicks
noBtn.addEventListener('mouseover', moveNo);

yesBtn.onclick = () => {
    grid.classList.add('fade-out');
    setTimeout(() => {
        grid.style.display = 'none';
        finalView.style.visibility = 'visible';
        finalView.style.opacity = '1';
        loader.style.display = 'flex';
        startCelebration();
        startProgress();
    }, 800);
};

function startProgress() {
    let width = 0;
    const duration = 12000; // 12 seconds
    const interval = 100; // update every 0.1s
    const step = (interval / duration) * 100;
    
    const bar = setInterval(() => {
        width += step;
        pFill.style.width = Math.min(width, 100) + '%';
        if (width >= 100) {
            clearInterval(bar);
            window.location.href = spotifyLink;
        }
    }, interval);
}

// Optimized Firework Logic
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');
let particles = [];

function startCelebration() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    animate();
}

function animate() {
    ctx.fillStyle = 'rgba(5, 5, 5, 0.2)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    if (Math.random() < 0.1) {
        const x = Math.random() * canvas.width;
        const color = Math.random() > 0.5 ? '#ffb3d1' : '#d4af37';
        for(let i=0; i<30; i++) particles.push({x:x, y:canvas.height, vx:Math.random()*4-2, vy:-Math.random()*12-8, life:1, c:color});
    }
    particles.forEach((p, i) => {
        p.x += p.vx; p.y += p.vy; p.vy += 0.2; p.life -= 0.015;
        ctx.globalAlpha = Math.max(0, p.life);
        ctx.fillStyle = p.c;
        ctx.beginPath(); ctx.arc(p.x, p.y, 1.5, 0, Math.PI*2); ctx.fill();
        if (p.life <= 0) particles.splice(i, 1);
    });
    requestAnimationFrame(animate);
}

// Background Stars
const starsContainer = document.querySelector('.stars');
for(let i=0; i<60; i++) {
    const star = document.createElement('div');
    star.style.position = 'absolute';
    star.style.width = star.style.height = '1.5px';
    star.style.background = 'white';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    star.style.opacity = Math.random() * 0.4;
    starsContainer.appendChild(star);
}
</script>
</body>
</html>

