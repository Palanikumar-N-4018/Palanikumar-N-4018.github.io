<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>For RathiDevi • Palanikumar</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;1,400&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root {
    --accent: #ffb3d1; /* Soft Rose */
    --gold: #d4af37;
    --bg: #050505;
}

* { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }

body {
    margin: 0; padding: 0;
    min-height: 100svh; /* Stable mobile height */
    background: var(--bg);
    font-family: 'Inter', sans-serif;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

/* Star Background */
.stars {
    position: fixed; inset: 0;
    background: radial-gradient(circle at 50% 100%, #1a1a1a 0%, #050505 100%);
    z-index: 0;
}

canvas { position: fixed; inset: 0; pointer-events: none; z-index: 5; }

/* Mobile Bento Grid */
.bento-grid {
    position: relative;
    z-index: 10;
    width: 90vw;
    max-width: 400px;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: auto auto auto;
    gap: 12px;
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.box {
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 24px;
    padding: 20px;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

.header-box { grid-column: span 2; }
.header-box h1 {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(32px, 8vw, 40px);
    margin: 0; font-weight: 300; color: var(--accent);
}

.date-box { grid-column: span 1; display: flex; flex-direction: column; justify-content: center; }
.date-box span { font-size: 10px; text-transform: uppercase; letter-spacing: 2px; opacity: 0.5; }
.date-box b { font-size: 16px; color: var(--gold); margin-top: 4px; }

.story-box { grid-column: span 2; }
.story-box p { font-size: 14px; line-height: 1.6; margin: 0; opacity: 0.8; font-weight: 300; }

.action-box { 
    grid-column: span 2; 
    height: 160px; 
    position: relative; 
    display: flex; 
    flex-direction: column; 
    justify-content: center; 
    overflow: hidden;
}

.btn {
    width: 100%;
    padding: 16px;
    border-radius: 16px;
    border: none;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

#yes { background: white; color: black; position: relative; z-index: 100; }
#no { 
    background: transparent; 
    color: white; 
    border: 1px solid rgba(255,255,255,0.2); 
    position: absolute; 
    width: 80%; 
    left: 10%; 
    bottom: 20px; 
    z-index: 50;
}

/* Final View */
#final-view {
    position: fixed; inset: 0;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    opacity: 0; visibility: hidden;
    z-index: 20; text-align: center;
    padding: 20px;
}
#final-view h2 { font-family: 'Cormorant Garamond', serif; font-size: clamp(40px, 10vw, 60px); margin: 0; color: var(--accent); }

.pill {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 10px 20px;
    border-radius: 100px;
    font-size: 12px;
    margin-top: 25px;
    letter-spacing: 1px;
}

.fade-out { opacity: 0; transform: scale(0.9); filter: blur(10px); }
</style>
</head>
<body>

<div class="stars"></div>
<canvas id="fireworks"></canvas>

<div class="bento-grid" id="grid">
    <div class="box header-box">
        <span style="font-size: 10px; letter-spacing: 3px; opacity: 0.4;">TO MY FOREVER</span>
        <h1>RathiDevi</h1>
    </div>

    <div class="box date-box">
        <span>MET</span>
        <b>APR 19</b>
    </div>
    <div class="box date-box">
        <span>MARRY</span>
        <b>MAY 18</b>
    </div>

    <div class="box story-box">
        <p>Palanikumar believes every star aligned the day you met. Now, he’s ready for the rest of our lives.</p>
    </div>

    <div class="box action-box" id="area">
        <button class="btn" id="yes">Accept Forever</button>
        <button class="btn" id="no">Thinking...</button>
    </div>
</div>

<div id="final-view">
    <span style="letter-spacing: 5px; opacity: 0.5; font-size: 10px; margin-bottom: 15px;">PALANIKUMAR & RATHIDEVI</span>
    <h2>It was always you.</h2>
    <div class="pill" id="timer">00D 00H 00M 00S</div>
</div>

<script>
const noBtn = document.getElementById('no');
const yesBtn = document.getElementById('yes');
const grid = document.getElementById('grid');
const finalView = document.getElementById('final-view');
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');

const startDate = new Date('2025-04-19T00:00:00');

// Mobile Escape Logic
noBtn.addEventListener('touchstart', (e) => {
    e.preventDefault();
    moveNo();
});
noBtn.addEventListener('mouseover', moveNo);

function moveNo() {
    const x = Math.random() * 100 - 50;
    const y = Math.random() * 80 - 40;
    noBtn.style.transform = `translate(${x}px, ${y}px)`;
    noBtn.style.opacity = "0.6";
}

function updateTimer() {
    const diff = new Date() - startDate;
    const d = Math.floor(diff / 864e5);
    const h = Math.floor((diff % 864e5) / 36e5);
    const m = Math.floor((diff % 36e5) / 6e4);
    const s = Math.floor((diff % 6e4) / 1000);
    document.getElementById('timer').innerText = `${d}D • ${h}H • ${m}M • ${s}S SINCE WE MET`;
}

yesBtn.onclick = () => {
    grid.classList.add('fade-out');
    setTimeout(() => {
        grid.style.display = 'none';
        finalView.style.visibility = 'visible';
        finalView.style.opacity = '1';
        initCelebration();
    }, 800);
    
    setTimeout(() => { 
        window.location.href = "https://open.spotify.com/track/0tcKP2nsBy1aiabkXQlXt5?si=IN42uNTmT0OVa4BtKUYaHg"; 
    }, 12000);
};

let particles = [];
function initCelebration() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    setInterval(updateTimer, 1000);
    animate();
}

function animate() {
    ctx.fillStyle = 'rgba(5, 5, 5, 0.15)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    if (Math.random() < 0.15) {
        const x = Math.random() * canvas.width;
        const color = Math.random() > 0.5 ? '#ffb3d1' : '#d4af37';
        for(let i=0; i<40; i++) {
            particles.push({
                x: x,
                y: canvas.height,
                vx: Math.random() * 4 - 2,
                vy: -Math.random() * 12 - 8,
                life: 1,
                c: color
            });
        }
    }

    particles.forEach((p, i) => {
        p.x += p.vx; p.y += p.vy; p.vy += 0.2; p.life -= 0.015;
        ctx.globalAlpha = p.life;
        ctx.fillStyle = p.c;
        ctx.beginPath();
        ctx.arc(p.x, p.y, 1.5, 0, Math.PI*2);
        ctx.fill();
        if (p.life <= 0) particles.splice(i, 1);
    });
    requestAnimationFrame(animate);
}

// Background Stars
const starsContainer = document.querySelector('.stars');
for(let i=0; i<70; i++) {
    const star = document.createElement('div');
    star.style.position = 'absolute';
    star.style.width = star.style.height = Math.random() * 2 + 'px';
    star.style.background = 'white';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    star.style.opacity = Math.random() * 0.5;
    starsContainer.appendChild(star);
}
</script>
</body>
</html>

